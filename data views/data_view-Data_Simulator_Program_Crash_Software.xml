<data_view_info name="Data Simulator Program Crash Software" table="ds_crash_prog_software" show_summary="f" group_fields="t">
	<columns>
		<column path="enabled" show_in_table="t"/>
		<column path="spkg" show_in_table="t" label="Software Package*"/>
		<column path="spkg_version" show_in_table="t" label="Software Package Version*"/>
		<column path="file_name" show_in_table="t" label="File Name*"/>
		<column path="file_path" show_in_table="t" label="File Path*"/>
		<column path="file_version" show_in_table="t" label="File Version*"/>
		<column path="publisher" show_in_table="t" label="Publisher*"/>
		<column custom_control="Colored Status" show_in_table="t" label="Message">
			<attributes>
				<path><![CDATA[_calc:error_message::string:"var fileName = get(\"File Name*\");
var filePath = get(\"File Path*\");
var fileVersion = get(\"File Version*\");
var publisher = get(\"Publisher*\");

var errs = get(\"Errors\");
var retVal = \"\";

if (fileName == \"\" || fileName == null) {
    retVal = \"File name is empty. \";
} 

if (filePath == \"\" || filePath == null) {
    retVal += \"File path is empty. \";
}

if (fileVersion == \"\" || fileVersion == null) {
    retVal = \"File version is empty. \";
}

if (publisher == \"\" || publisher == null) {
    retVal = \"File publisher is empty. \";
}
    
if (retVal != \"\") retVal += \":#b00\";

retVal;":]]></path>
			</attributes>
		</column>
	</columns>
	<controls>
		<control name="Colored Status">
			<attributes>
				<renderer><![CDATA[if ($ctx.value == null || $ctx.value === '') {
    '';
} else {
    var split = $ctx.value.split(':');
    var label = split[0];
    var color = '#EEE';
    var marker = 0;
    if (split.length > 1) {
		color = split[1];
    }
    if (split.length > 2) {
		marker = split[2];
    }
    var style = ';font-weight:normal;width:100%;border-radius:5px;box-shadow:0 1px 1px #CCC;color:#FFF;padding:3px 5px 0 5px;height:22px;box-sizing:border-box;';
    var clazz = 'status-sm ' + label.toLowerCase() +'';
    '<div class=\"'+ clazz +'\" data-marker=\"'+ marker + '\" style=\"background-color:'+ color + style  + '\">'+ label +'</div>'
}]]></renderer>
			</attributes>
		</control>
	</controls>
</data_view_info>